var m=Object.defineProperty;var f=(t,e,n)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var o=(t,e,n)=>f(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const g=document.getElementById("short-link-form"),i=document.getElementById("short-link-text"),y=document.getElementById("short-link-qrcode"),p=document.getElementById("qr-code"),u=document.getElementById("short-link-area"),a=document.getElementById("copy-button"),h=document.getElementById("response-container"),d=document.getElementById("loader"),L=new bootstrap.Modal(document.getElementById("error-modal"));g.addEventListener("submit",async t=>{if(t.preventDefault(),h.classList.contains("d-none")||(p.src="",u.textContent="",h.classList.add("d-none")),(i==null?void 0:i.value)!=""){d.classList.remove("d-none");try{const e=await fetch("http://localhost:8080",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({original_url:i.value})}).then(n=>n.json()).catch(n=>console.log(n));if(e==null)throw d.classList.add("d-none"),new Error("data not found");if(h.classList.remove("d-none"),y.checked){const n=e.shortURL.split("/"),c=n[n.length-1],s=await fetch(`http://localhost:8080/qrcode/${c}`).then(r=>r.json()).catch(r=>console.log(r));if(s==null)throw d.classList.add("d-none"),new Error("data not found");console.log(s.base64Image),p.src=`data:image/png;base64,${s.base64Image}`}u.textContent=e.shortURL,i.value="",d.classList.add("d-none")}catch{L.show()}}});a.addEventListener("click",()=>{if(navigator.clipboard.writeText(u.innerHTML),a.firstChild!=null){const t=a.getElementsByClassName("bi-clipboard")[0];if(t==null)return;t.classList.remove("bi-clipboard"),t.classList.add("bi-check-lg"),setTimeout(()=>{t.classList.remove("bi-check-lg"),t.classList.add("bi-clipboard")},1e3)}});const I=document.querySelectorAll(".typewriter-content");class b{constructor(e,n){o(this,"currentPhraseIndex",0);o(this,"currentLetterIndex",0);o(this,"typeSpeed",100);o(this,"deleteSpeed",50);o(this,"delayBetweenPhrases",1e3);o(this,"isDeleting",!1);o(this,"phrases");o(this,"element");o(this,"type",()=>{if(this.phrases==null)return;const e=this.phrases[this.currentPhraseIndex];this.isDeleting?(this.element.textContent=e.substring(0,this.currentLetterIndex-1),this.currentLetterIndex--,this.currentLetterIndex===0?(this.isDeleting=!1,this.currentPhraseIndex=(this.currentPhraseIndex+1)%this.phrases.length,setTimeout(()=>this.type(),this.delayBetweenPhrases)):setTimeout(()=>this.type(),this.deleteSpeed)):(this.element.textContent=e.substring(0,this.currentLetterIndex+1),this.currentLetterIndex++,this.currentLetterIndex===e.length?(this.isDeleting=!0,setTimeout(()=>this.type(),this.delayBetweenPhrases)):setTimeout(()=>this.type(),this.typeSpeed))});this.phrases=e,this.element=n}}I.forEach(t=>{var n;const e=(n=t.textContent)==null?void 0:n.split(";");t.textContent=".",t.style.minHeight=t.clientHeight.toString()+"px",t.textContent="",e!=null&&new b(e,t).type()});
